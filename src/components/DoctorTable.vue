<script setup lang="ts">
import { Doctor } from '@/types';
import { useDoctorsStore } from '../store/index.js'
const store = useDoctorsStore();

defineProps<{
  doctors: Doctor[];
}>();


const deleteDoctor = (id: number) => {
  store.deleteDoctor(id) 
};
</script>

<template>
  <table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-gray-50">
      <tr>
        <th>–§–ò–û</th>
        <th>–û—Ç–¥–µ–ª–µ–Ω–∏–µ</th>
        <th>–ó–∞–≤–µ–¥—É—é—â–∏–π</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
      <tr v-for="doctor in doctors" :key="doctor.id">
        <td>{{ doctor.name }}</td>
        <td>{{ doctor.department === 'cardiology' ? '–ö–∞—Ä–¥–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ' : '–•–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–æ–µ' }}</td>
        <td>{{ doctor.isHead ? '–î–∞' : '–ù–µ—Ç' }}</td>
        <td>
          <button @click="$emit('edit', doctor)" class="mr-2">‚úè</button>
          <button @click="deleteDoctor(doctor.id)">üóë</button>
        </td>
      </tr>
    </tbody>
  </table>
</template>
